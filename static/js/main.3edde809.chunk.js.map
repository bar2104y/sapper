{"version":3,"sources":["Components/mainmenu.js","Pannels/Home.js","Components/Playarea.js","App.js","serviceWorker.js","index.js"],"names":["Mainmenu","className","onClick","this","props","go","data-to","React","Component","Home","id","fetchedUser","title","before","photo_200","src","description","city","first_name","last_name","Playarea","canvSize","window","innerWidth","lineWidth","areaSize","step","area","firstPress","score","openedMines","sec","min","areaOpen","i","j","getPosByIndex","bind","selectRect","genArea","isMine","isClear","getMinesInBlock","timer","winGame","filedGame","canvas","refs","ctx","getContext","addEventListener","createCanvas","setInterval","s","document","getElementById","innerHTML","e","clearInterval","x","fillStyle","fillRect","beginPath","moveTo","lineTo","strokeStyle","stroke","xPos","clientX","target","offsetLeft","yPos","clientY","offsetTop","xIndex","Math","floor","yIndex","openBlock","lastblock","y","nx","ny","a","random","push","length","f","splice","cnt","getMinesAround","font","textBaseline","fillText","ref","width","height","App","setState","activePanel","currentTarget","dataset","to","console","log","state","connect","send","subscribe","detail","type","data","Boolean","location","hostname","match","ReactDOM","render"],"mappings":"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","file":"static/js/main.3edde809.chunk.js","sourcesContent":["import React from 'react';\nimport '../Css/mainmenu.css'\n\nclass Mainmenu extends React.Component {\n    render(){\n        return(\n            <div className=\"mainMenuConatainer\">\n                <div className=\"actionButton\" onClick={this.props.go} data-to=\"play\"><p>Играть</p></div>\n                <div className=\"actionButton\" onClick={this.props.go} data-to=\"leaders\"><p>Лидеры</p></div>\n                <div className=\"actionButton\" onClick={this.props.go} data-to=\"share\"><p>Поделиться</p></div>\n            </div>\n        )\n    }\n}\n\nexport default Mainmenu","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { Panel, Group, PanelHeader, ListItem, Avatar} from '@vkontakte/vkui';\nimport Mainmenu from '../Components/mainmenu'\n\nconst Home = ({ id, go, fetchedUser }) => (\n\t<Panel id={id}>\n\t\t<PanelHeader>Сапер</PanelHeader>\n\t\t{fetchedUser &&\n\t\t<Group title=\"Добро пожаловать!\">\n\t\t\t<ListItem\n\t\t\t\tbefore={fetchedUser.photo_200 ? <Avatar src={fetchedUser.photo_200}/> : null}\n\t\t\t\tdescription={fetchedUser.city && fetchedUser.city.title ? fetchedUser.city.title : ''}\n\t\t\t>\n\t\t\t\t{`${fetchedUser.first_name} ${fetchedUser.last_name}`}\n\t\t\t</ListItem>\n\t\t\t<Mainmenu go={go} />\n\t\t</Group>}\n\n\t</Panel>\n);\n\nHome.propTypes = {\n\tid: PropTypes.string.isRequired,\n\tgo: PropTypes.func.isRequired,\n\tfetchedUser: PropTypes.shape({\n\t\tphoto_200: PropTypes.string,\n\t\tfirst_name: PropTypes.string,\n\t\tlast_name: PropTypes.string,\n\t\tcity: PropTypes.shape({\n\t\t\ttitle: PropTypes.string,\n\t\t}),\n\t}),\n};\n\nexport default Home;","import React from 'react';\nimport '../Css/game.css'\nimport { Panel, PanelHeader } from '@vkontakte/vkui';\n\n\n\n\nclass Playarea extends React.Component {\n    constructor (props){\n        super(props);\n\n        this.canvSize = window.innerWidth*0.9    //Размер холста px\n        this.lineWidth = 2                       //Толщина линии px\n        this.areaSize = 10                       //Кол-во ячеек в стороне\n        this.step = (this.canvSize-(2*this.lineWidth))/this.areaSize //Ширина и высота клетки\n        this.area = []                           // Массив мина/не мина\n        this.firstPress = true                   //Первый клик\n        this.score = this.areaSize*this.areaSize //Стартовое кол-во очков\n        this.openedMines = []                       //Открытые ячейки\n\n        this.sec = 0 //Время, секунды\n        this.min = 0 //Время, минуты\n\n        //Подготовка массива с открытыми ячейками\n        this.areaOpen = []\n        for (let i = 0; i<this.areaSize; i++){\n            this.areaOpen[i] = []\n            for ( let j = 0; j < this.areaSize; j++){\n                this.areaOpen[i][j] = 0\n            }\n        }\n\n        //Подключение функций (объясните мне зачем это вообще нужно)\n        this.getPosByIndex = this.getPosByIndex.bind(this)\n        this.selectRect = this.selectRect.bind(this)\n        this.genArea = this.genArea.bind(this)\n        this.isMine = this.isMine.bind(this)\n        this.isClear = this.isClear.bind(this)\n        this.getMinesInBlock = this.getMinesInBlock.bind(this)\n        this.timer = this.timer.bind(this)   \n        \n        this.winGame = this.winGame.bind(this)\n        this.filedGame = this.filedGame.bind(this)\n    }\n    componentDidMount(){\n        //иницианализация холста\n        this.canvas = this.refs.canvas\n        this.ctx = this.refs.canvas.getContext('2d')\n        // Прослушиваем событие клика\n        this.canvas.addEventListener('click', this.selectRect)\n        //Подготавливаем холст\n        this.createCanvas()\n\n        //Обновление секундомера\n        setInterval( this.timer, 1000)\n    }\n\n    //Секундомер\n    timer(){\n        this.sec++\n            if (this.sec == 60){\n                this.min++\n                this.sec = 0\n            }\n            let s = ''\n            if (this.min < 10) s += '0'\n            s += this.min + ':'\n            if (this.sec <10 ) s+= '0'\n            s+=this.sec\n\n            try{\n                document.getElementById('time').innerHTML = s\n            }\n            catch(e){\n                clearInterval(this.timer)\n            }\n    }\n\n    //Получение левого верзнего угла ячейки\n    getPosByIndex(x){\n        return(x*this.step+this.lineWidth)\n    }\n\n    //Создание заготовки игрового поля\n    createCanvas(){\n        //Заполнение фона\n        this.ctx.fillStyle=\"#9E9E9E\";\n        this.ctx.fillRect(0,0,this.canvSize,this.canvSize);\n\n        //Прорисовка линий\n        this.ctx.beginPath()\n        this.ctx.lineWidth = this.lineWidth\n\n        for(let i = this.lineWidth; i<=this.canvSize; i+=this.step ){\n            this.ctx.moveTo(0,i)\n            this.ctx.lineTo(this.canvSize,i)\n            this.ctx.moveTo(i,0)\n            this.ctx.lineTo(i,this.canvSize)\n        }\n\n        //Отображение изменений\n        this.ctx.strokeStyle=\"#333\"\n        this.ctx.stroke()\n\n    }\n\n    //При клике на поле\n    selectRect(e){\n\n        this.ctx.beginPath()\n        this.ctx.fillStyle=\"#5E5E5E\";\n        \n        //Получение координат клика\n        let xPos = e.clientX-e.target.offsetLeft\n        let yPos = e.clientY-e.target.offsetTop\n\n        //Определение ячейки\n        let xIndex = Math.floor(xPos/this.step)\n        let yIndex = Math.floor(yPos/this.step)\n\n        //Координаты левого верхнего угла ячейки\n        xPos = this.getPosByIndex(xIndex)\n        yPos = this.getPosByIndex(yIndex)\n        \n        //Определение первого клика\n        if (this.firstPress){\n            this.ctx.fillRect(xPos,yPos, this.step, this.step)\n            this.firstPress = false\n            this.genArea(xIndex,yIndex)\n            \n            this.areaOpen[xIndex][yIndex] = 2\n\n            this.openBlock(xIndex,yIndex)\n            /*this.ctx.fillStyle = 'whitesmoke'\n            this.ctx.font = \"bold \" + Math.floor(this.step/1.5) + \"pt sans-serif\"\n            this.ctx.textBaseline = \"center\"\n            this.ctx.fillText(this.getMinesAround(xIndex,yIndex),xPos+this.step/4,yPos+this.step/1.1)\n        */\n            this.lastblock= [xIndex+1,yIndex+1]\n        } else{\n            //отмена предыдущего выделения\n            if (this.areaOpen[this.lastblock[0]][this.lastblock[1]] < 2){\n                this.ctx.fillStyle=\"#9E9E9E\";\n                this.ctx.fillRect(this.getPosByIndex(this.lastblock[0]),\n                    this.getPosByIndex(this.lastblock[1]),\n                    this.step, this.step)\n            }\n\n            //Запомнить выбор\n            this.lastblock = [xIndex,yIndex]\n            \n            //выделение ячейки\n            if(this.areaOpen[xIndex][yIndex] < 2){\n                this.ctx.fillStyle=\"#7E7E7E\";\n                this.ctx.fillRect(xPos,yPos, this.step, this.step)\n            }\n            \n        }\n        \n        //перерисовка прямых, костыль\n        this.ctx.lineWidth = this.lineWidth/2\n        for(let i = this.lineWidth; i<=this.canvSize; i+=this.step ){\n            this.ctx.moveTo(0,i)\n            this.ctx.lineTo(this.canvSize,i)\n            this.ctx.moveTo(i,0)\n            this.ctx.lineTo(i,this.canvSize)\n        }\n        //Отображение изменений\n        this.ctx.stroke()\n    }\n\n    //Генерация мин\n    genArea(x,y){\n        //Инициализация массива\n        let a = []\n        for (let i = 0; i<this.areaSize; i++){\n            a[i] = []\n            for ( let j = 0; j < this.areaSize; j++){\n                a[i][j] = 0\n            }\n        }\n        \n\n        //Генерация мин\n        let nx,ny\n        let i = 0\n        while (i< this.areaSize){\n            nx = Math.floor(Math.random()*10)\n            ny = Math.floor(Math.random()*10)\n\n            if((nx != x || ny != y) && a[nx][ny] == 0){\n                a[nx][ny] = 1\n                i++\n            }\n        }\n        \n        //Запись в глобальную переменную\n        \n        this.area = a\n\n    }\n\n    //Клик на кнопку МИНА\n    isMine(){\n        \n        let xIndex = this.lastblock[0]\n        let yIndex = this.lastblock[1]\n        //Позиция курсора\n        let xPos = this.getPosByIndex( xIndex)\n        let yPos = this.getPosByIndex( yIndex)\n        //Заливка ячейки красным цветом\n        this.ctx.fillStyle=\"darkred\";\n        this.ctx.fillRect(xPos,yPos, this.step, this.step)\n        //Помечаем как предпологаемую мину\n        this.areaOpen[xIndex][yIndex] = 3\n        this.openedMines.push([xIndex,yIndex])\n        \n        \n        //Все ли мины подсвечены\n        if (this.openedMines.length == this.areaSize){\n            let f = true\n            //Все ли из подсвеченных верны\n            for (let i = 0; i< this.openedMines.length; i++){\n                if (this.area[this.openedMines[i][0]][this.openedMines[i][1]] == 0) f = false\n            }\n            //Если подсвечены все, и помечены верно, то победа игрока\n            if (f){\n                this.winGame()\n            }\n        }\n\n    }\n\n    //Нажатие на кнопку ПУСТО\n    isClear(){\n        //Получение ячейки\n        let xIndex = this.lastblock[0]\n        let yIndex = this.lastblock[1]\n\n        //Если мина, то ГГ\n        if (this.area[xIndex][yIndex] == 1){\n            this.filedGame()\n        //Если пустоя, то открываем ее\n        }else if (this.area[xIndex][yIndex] == 0 || this.areaOpen[xIndex][yIndex] == 3){\n            //Если ранее ячейка была подсвечена как мина\n            if (this.areaOpen[xIndex][yIndex] == 3){\n                for (let i = 0; i< this.openedMines.length; i++){\n                    //удаляем информацию о пометке\n                    if (this.openedMines[i][0] == xIndex && this.openedMines[i][1] == yIndex){\n                        this.openedMines.splice(i,1)\n                    }\n                }\n            }\n            //Открываем эту ячейку\n            this.openBlock(xIndex,yIndex)\n            //Меняем кол-во очков\n            this.score --\n        }\n        //Подсчитываем кол-во открытых пустых клеток\n        let cnt = 0\n        for (let i = 0; i<this.areaSize; i++){\n            for ( let j = 0; j < this.areaSize; j++){\n                if (this.areaOpen[i][j] == 2 )\n                    cnt ++\n            }\n        }\n        //Если все чистые открыты, то победа игрока\n        if (cnt == this.areaSize*this.areaSize-this.areaSize)\n            this.winGame()\n        //Выводим кол-во очков на экран\n        document.getElementById(\"scores\").innerHTML = this.score\n    }\n\n    //Проверка ячейки на наличие мин\n    getMinesInBlock(x,y){\n        //Проаерка на границы поля\n        if (x<0 || y<0 || x>=this.areaSize || y >= this.areaSize) return 0\n        //Если мина, то 1\n        else if (this.area[x][y] == 1) return 1\n        else return 0\n    }\n\n    //Кол-во мин вокруг клетки\n    getMinesAround(x,y){\n        let cnt = 0 // Кол-во мин\n        \n        //Перебор ячеек вокруг\n        cnt += this.getMinesInBlock(x+1,y-1)\n        cnt += this.getMinesInBlock(x+1,y)\n        cnt += this.getMinesInBlock(x+1,y+1)\n        cnt += this.getMinesInBlock(x,y-1)\n        cnt += this.getMinesInBlock(x,y+1)\n        cnt += this.getMinesInBlock(x-1,y-1)\n        cnt += this.getMinesInBlock(x-1,y)\n        cnt += this.getMinesInBlock(x-1,y+1)\n        //Возвращаем количество мин\n        return(cnt)\n    }\n\n    //ОТкрытие ячейки\n    openBlock(xIndex,yIndex){\n        //Проверка на границы поля\n        if (xIndex<0 || yIndex < 0 || xIndex >= this.areaSize || yIndex >= this.areaSize)\n        return(0)\n\n        //помечаем как открытую\n        this.areaOpen[xIndex][yIndex] = 2\n\n        //левый верхний угол ячейки\n        let xPos = this.getPosByIndex(xIndex)\n        let yPos = this.getPosByIndex(yIndex)\n\n        //Закрашиваем как открытую\n        this.ctx.fillStyle=\"#5E5E5E\";\n        this.ctx.fillRect(xPos,yPos, this.step, this.step)\n        \n        //Если вокруг мин нет, открываем ячейки\n        if (this.getMinesAround(xIndex,yIndex) == 0 ){\n            //по очереди открываем ячейки вор=круг, try-catch ловит выход за пределы поля\n            try{ if (this.area[xIndex+1][yIndex+1] == 0 && this.areaOpen[xIndex+1][yIndex+1] != 2) this.openBlock(xIndex+1,yIndex+1)} catch(e){}\n            try{ if (this.area[xIndex+1][yIndex] == 0   && this.areaOpen[xIndex+1][yIndex+1] != 2) this.openBlock(xIndex+1,yIndex)} catch(e){}\n            try{ if (this.area[xIndex+1][yIndex-1] == 0 && this.areaOpen[xIndex+1][yIndex-1] != 2) this.openBlock(xIndex+1,yIndex-1)} catch(e){}\n            try{ if (this.area[xIndex][yIndex+1] == 0   && this.areaOpen[xIndex][yIndex+1] != 2) this.openBlock(xIndex,yIndex+1)} catch(e){}\n            try{ if (this.area[xIndex][yIndex-1] == 0   && this.areaOpen[xIndex][yIndex-1] != 2) this.openBlock(xIndex,yIndex-1)} catch(e){}\n            try{ if (this.area[xIndex-1][yIndex+1] == 0 && this.areaOpen[xIndex-1][yIndex+1] != 2) this.openBlock(xIndex-1,yIndex+1)} catch(e){}\n            try{ if (this.area[xIndex-1][yIndex] == 0   && this.areaOpen[xIndex-1][yIndex] != 2) this.openBlock(xIndex-1,yIndex)} catch(e){}\n            try{ if (this.area[xIndex-1][yIndex-1] == 0 && this.areaOpen[xIndex-1][yIndex-1] != 2) this.openBlock(xIndex-1,yIndex-1)} catch(e){}\n\n        } else{\n            //Если есть мины вокруг, пишем их количество\n            this.ctx.fillStyle = 'whitesmoke'\n            this.ctx.font = \"bold \" + Math.floor(this.step/1.5) + \"pt sans-serif\"\n            this.ctx.textBaseline = \"center\"\n            this.ctx.fillText(this.getMinesAround(xIndex,yIndex),xPos+this.step/4,yPos+this.step/1.1)\n        }\n        \n    }\n\n    //Конец игры, победа\n    winGame(){\n        this.ctx.fillStyle=\"green\";\n        this.ctx.fillRect(0,0,this.canvSize,this.canvSize);\n        this.min = 0\n        this.sec = 0\n        clearInterval(this.timer)\n        //WIP\n    }\n\n    //Проигрыш\n    filedGame(){\n        this.ctx.fillStyle=\"darkred\";\n        this.ctx.fillRect(0,0,this.canvSize,this.canvSize);\n        clearInterval(this.timer)\n        this.min = 0\n        this.sec = 0\n        //WIP\n    }\n    \n    render(){\n        return(\n            <Panel id={this.props.id}>\n                <PanelHeader>\n                    Сапер\n                </PanelHeader>\n                <div>\n                    <div className=\"topMenu\" >\n                        <div id=\"scores\">{this.score}</div>\n                        <div id=\"time\">00:00</div>\n                    </div>\n                    <div className=\"gameContainer\">\n                        <canvas id=\"canvas\" ref=\"canvas\" width={this.canvSize} height={this.canvSize} />\n                    </div>\n                    <div className=\"buttonContainer\">\n                        <div onClick={this.isMine}>\n                            Мина\n                        </div>\n                        <div onClick={this.isClear}>\n                            Пусто\n                        </div>\n                    </div>\n                    <div className=\"backBtn\" onClick={this.props.go} data-to=\"home\">Домой</div>\n                </div>\n            </Panel>\n        )\n    }\n}\n\nexport default Playarea","import React from 'react';\nimport './App.css';\nimport Home from './Pannels/Home'\n\nimport connect from '@vkontakte/vkui-connect';\n\nimport { View } from '@vkontakte/vkui';\nimport '@vkontakte/vkui/dist/vkui.css';\nimport Playarea from './Components/Playarea';\n\n\nclass App extends React.Component {\n\n  constructor(props) {\n\t\tsuper(props);\n\n\t\tthis.state = {\n\t\t\tactivePanel: 'home',\n\t\t\tfetchedUser: null,\n\t\t};\n  }\n\n  componentDidMount() {\n    connect.send(\"VKWebAppInit\", {}); \n\n\t\tconnect.subscribe((e) => {\n\t\t\tswitch (e.detail.type) {\n\t\t\t\tcase 'VKWebAppGetUserInfoResult':\n          console.log(e.detail.data)\n          this.setState({fetchedUser : e.detail.data}) ;\n          console.log(this.state.fetchedUser)\n\t\t\t\t\tbreak;\n\t\t\t\tdefault:\n\t\t\t\t\tconsole.log(e.detail.type);\n\t\t\t}\n\t\t});\n\t\tconnect.send('VKWebAppGetUserInfo', {});\n\t}\n  \n  go = (e) => {\n    this.setState({ activePanel: e.currentTarget.dataset.to })\n    console.log( e.currentTarget.dataset.to )\n  };\n  \n  render(){\n    return (\n    <View activePanel={this.state.activePanel}>\n\t\t\t\t<Home id=\"home\" fetchedUser={this.state.fetchedUser} go={this.go} />\n        <Playarea id=\"play\" go={this.go} />\n    </View>\n    );\n    }\n}\n\nexport default App;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n//import './index.css';\nimport App from './App';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}